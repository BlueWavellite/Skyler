<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PDF Reader</title>

<style>
body {
  margin:0;
  font-family:'Roboto Slab', serif;
  background:#0d2a3a;
  color:#fff;
  display:flex;
  flex-direction:column;
  height:100vh;
}

.toolbar {
  display:flex;
  align-items:center;
  gap:10px;
  background:#082133;
  padding:8px 16px;
  position:sticky;
  top:0;
  z-index:10;
}

.toolbar button, .toolbar input {
  background-color:#eee;
  border:none;
  padding:6px 10px;
  border-radius:4px;
  cursor:pointer;
  color:#0d2a3a;
  font-weight:600;
}

.toolbar input[type="number"] {
  width:60px;
  text-align:center;
}

#pdf-frame {
  flex:1;
  border:none;
  width:100%;
}
</style>
</head>
<body>

<div class="toolbar">
  <button id="closeBtn">Close</button>
  <span>Zoom / Page Controls are inside the PDF viewer</span>
</div>

<iframe id="pdf-frame"></iframe>

<script>
  const urlParams = new URLSearchParams(window.location.search);
  const pdfUrl = urlParams.get("file"); // e.g., file=pdfs/mydoc.pdf

  if (!pdfUrl) {
    alert("PDF file not specified!");
    throw new Error("No PDF file provided");
  }

  // Load the external PDF.js viewer (make sure 'pdfjs/web/viewer.html' exists in the repo)
  const viewerFrame = document.getElementById("pdf-frame");

  // Pass the PDF URL via query string
  viewerFrame.src = `pdfjs/web/viewer.html?file=${encodeURIComponent(pdfUrl)}&disableDownload=true&disablePrint=true&disableOpenFile=true`;

  // Close button
  document.getElementById("closeBtn").onclick = () => window.close();
</script>

</body>
</html>
